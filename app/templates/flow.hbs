<h3 id='title'>{{content.name}}</h3>

<div>{{content.description}}</div>

{{#ui-accordion class="styled"}}
  <div class="active title">
    <i class="dropdown icon"></i>
    Steps
  </div>
  <div class="active content">
    <div class="ui divided list">
      {{#each content.steps as |step|}}
      <div class="item">
        <div class="content">
          <a class="header">{{step.name}}</a>
          <div class="description">{{step.description}}</div>
          <div class="description">{{step.type}}</div>
          <div class="ui bulleted list">
          {{#each step.endpoints as |endpoint|}}
            <div class="item">
              <div class="content">
                <a class="header">{{endpoint.name}}</a>
                <a class="description">{{endpoint.description}}</a>
                <div class="item">
                  <div class="item">
                    {{endpoint.target}}
                  </div>
                  {{#if endpoint.isIn}}
                    <i class="arrow left icon"></i>
                  {{/if}}
                  {{#if endpoint.isOut}}
                    <i class="arrow right icon"></i>
                  {{/if}}
                  <div class="ui label">
                    {{#if endpoint.mandatory}}
                      <i class="asterisk icon"/>
                    {{/if}}
                    {{endpoint.uti}}
                  </div>
                </div>
              </div>
            </div>
          {{/each}}
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
  <div class="title">
    <i class="dropdown icon"></i>
    Endpoints
  </div>
  <div class="content">
    <svg xmlns="http://www.w3.org/2000/svg"
      version="1.0"
      baseProfile="full"
      viewBox="126 113 964 503"
      preserveAspectRatio="xMidYMid"
      width="100%" height="100%">
      <style
        type="text/css"
        id="style12">.shape { stroke:black; stroke-width:1px; fill:#f0f0d2; } .connector { fill:none; stroke:black; stroke-width:1px; stroke-linecap:butt; stroke-linejoin:miter; stroke-opacity:1; } .cluster { fill:#60cdf3; fill-opacity:0.33333333; } .tLabel { text-anchor:middle; text-align:center; } .tsLabel { font-size:11px; font-style:normal; font-weight:normal; fill:black; fill-opacity:1; stroke:none; font-family:DejaVu Sans; } .frLabel { font-size:11px; font-style:normal; font-weight:normal; fill:black; fill-opacity:1; stroke:none; stroke-width:1px; stroke-linecap:butt; stroke-linejoin:miter; stroke-opacity:1; font-family:DejaVu Sans; font-stretch:normal; font-variant:normal; text-anchor:middle; text-align:center; progression-align:center; writing-mode:lr; line-height:125%; } </style>
      <defs id="defs14">
        <marker orient="auto" refX="7.5" refY="0" id="ConnArrowEnd" style="overflow:visible">
          <path d="M 0,0 L 1,-5 L -12.5,0 L 1,5 L 0,0 z"
            style="fill-rule:evenodd;stroke:#000000;stroke-width:1px;marker-start:none"
            transform="scale(-0.6,-0.6)"
            id="path17"/>
        </marker>
      </defs>

    {{#each content.steps as |step|}}
      <rect width={{step.w}} height={{step.h}} x={{step.x}} y={{step.y}}
        rx="9" ry="9" id={{step.name}} class="shape"
        style="fill:#f0f0d2;stroke:#000000;stroke-width:1px" />
      <text id="text1" class="tLabel" x={{step.x}} y={{step.y}} style="text-align:center;text-anchor:middle">
        <tspan id="tspan1n0" class="tsLabel"
          x={{step.tx}} y={{step.ty}}
          style="font-size:24px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;font-family:DejaVu Sans">{{step.name}}</tspan>
       </text>

       {{#each step.endpoints as |ep|}}
          <path id={{ep.name}} class="connector" d="M {{ep.x}},{{ep.y}} L 269,195"
            style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;marker-end:url(#ConnArrowEnd);stroke-opacity:1"/>
       {{/each}}
    {{/each}}
    </svg>
  </div>
{{/ui-accordion}}
